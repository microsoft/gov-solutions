---
layout: default
---

<section class="usa-section">
  <div class="grid-container-full">

    <div class="grid-row grid-gap">

      <!-- Sidebar navigation -->

      <aside class="grid-col-3">
        <img src="{{ page.thumbnail | relative_url }}" alt="{{ page.title }} data_model image" class="page-thumbnail">
        <!-- {% comment %} Link to module ERD page in assets (assets/data_models/<slug>/erd.md) {% endcomment %}
        {% assign erd_asset_path = 'assets/data_models/' | append: page.slug | append: '/erd.md' %}
        {% assign erd_pages = site.pages | where: "path", erd_asset_path %}
        {% if erd_pages and erd_pages.size > 0 %}
          {% assign erd_page = erd_pages | first %}
          <p class="margin-top-2">
            <a href="{{ erd_page.url | relative_url }}" class="usa-link">View ERD</a>
          </p>
        {% endif %} -->
      </aside>

      <!-- Main content (right side) -->
      <main class="grid-col-9 usa-prose">

        <!-- Header row: breadcrumbs + page title -->
        <div class="grid-row grid-gap">
          <div class="grid-col-9 usa-prose">
            {% include breadcrumbs.html %}
          </div>
        </div>

        <!-- Content row: main column + small right column -->
        <div class="grid-row grid-gap">

          <!-- Main column -->
          <div class="grid-col-9 usa-prose">

            <h1 class="mgat-solution-heading">{{ page.title }}</h1>
            <hr />

            {% include tabs.html
            ns=page.slug
            tabs="Overview:overview|Tables and Fields:erd|Releases:releases"
            %}

            <!-- OVERVIEW panel -->
            <section id="panel-{{ page.slug }}-overview" class="mgat-subnav__panel usa-prose" role="tabpanel"
              data-panel="{{ page.slug }}">
              {{ content }}
            </section>

            <!-- ERD panel -->
            <section id="panel-{{ page.slug }}-erd" class="mgat-subnav__panel usa-prose" role="tabpanel" data-panel="{{ page.slug }}">
  <div class="erd-action">
    <button id="show-erd-{{ page.slug }}" class="usa-button usa-button--primary" aria-controls="panel-{{ page.slug }}-erd">Click to Show ERD</button>
  </div>
              {% assign erd_asset_path = 'assets/data_models/' | append: page.slug | append: '/erd.md' %}
              {% assign erd_pages = site.pages | where: "path", erd_asset_path %}
              {% if erd_pages and erd_pages.size > 0 %}
                {% assign erd_page = erd_pages | first %}
                {{ erd_page.content | markdownify }}
              {% else %}
                {% if page.erd_image %}
                  <img src="{{ page.erd_image | relative_url }}" alt="ERD for {{ page.title }}" class="usa-image">
                {% else %}
                  <p>No ERD available.</p>
                {% endif %}
              {% endif %}
              <script>
                (function () {
                  function onReady(fn){ if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', fn); else fn(); }
                  onReady(function () {
                    var btn = document.getElementById('show-erd-{{ page.slug }}');
                    var panel = document.getElementById('panel-{{ page.slug }}-erd');
                    if (!btn || !panel) return;
                    // Hide the button if there's nothing to render
                    if (!panel.querySelector('.mermaid') && !panel.querySelector('pre > code.language-mermaid')) {
                      btn.style.display = 'none';
                      return;
                    }
                    btn.addEventListener('click', function (e) {
                      e.preventDefault();
                      btn.disabled = true;
                      btn.textContent = 'Loadingâ€¦';
                      // Prefer the helper exposed by the module loader
                      if (window.renderMermaidIn) {
                        window.renderMermaidIn(panel);
                        btn.style.display = 'none';
                        return;
                      }
                      // Otherwise try a direct init
                      if (window.mermaid && window.mermaid.init) {
                        window.mermaid.init(undefined, panel.querySelectorAll('.mermaid'));
                        btn.style.display = 'none';
                        return;
                      }
                      // Final fallback: reload the page
                      location.reload();
                    });
                  });
                })();
              </script>
            </section>

            <!-- RELEASES panel -->
            <section id="panel-{{ page.slug }}-releases" class="mgat-subnav__panel usa-prose" role="tabpanel"
              data-panel="{{ page.slug }}">

              We highly recommend using the managed versions, which will allow you to easily update and uninstall the solution from your environment. If you need to modify or enhance the managed solution, you can can create a new solution, add the components to that solution and make changes as needed.
              <br />

              {% include data_model_releases.html %}
            </section>

          </div>

          <!-- Small right column (download + personas) -->
          <div class="grid-col-3">

            <a class="usa-button"       
              href="https://github.com/microsoft/gov-datamodels/raw/refs/heads/main/{{ page.latest_release }}"
              download>
              Download Latest Release
            </a>
            {% include requireslist.html %}
            {% include personalist.html %}

            {% comment %} Find solutions that use this item in their front matter and show links (compatible fallback without where_exp) {% endcomment %}

            {% assign has_related = false %}
            {% for s in site.app_starter_kits %}
              {% if s.data_models %}
                {% for p in s.data_models %}
                  {% if p == page.title %}
                    {% assign has_related = true %}
                    {% break %}
                  {% endif %}
                {% endfor %}
              {% endif %}
            {% endfor %}

            {% if has_related %}
            <section class="margin-top-4">
              <h2>Related solutions</h2>
              <ul class="usa-list">
                {% for s in site.app_starter_kits %}
                  {% if s.data_models %}
                    {% for p in s.data_models %}
                      {% if p == page.title %}
                        <li>
                          <a href="{{ s.url | relative_url }}" class="usa-link">{{ s.title }}</a>
                        </li>
                        {% break %}
                      {% endif %}
                    {% endfor %}
                  {% endif %}
                {% endfor %}
              </ul>
            </section>
            {% endif %}
          </div>

        </div>

      </main>
    </div>
</section>